<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TransactionsApi.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">virtual-card-tokens-reference-app</a> &gt; <a href="index.source.html" class="el_package">com.mcs.virtualcardtokens.card.api</a> &gt; <span class="el_source">TransactionsApi.java</span></div><h1>TransactionsApi.java</h1><pre class="source lang-java linenums">/*
 * Mastercard Checkout Solutions Card API
 * API definitions for Mastercard Secure Card on File Cards API Endpoint. The Cards endpoint enrolls a mastercard card into a specified Secure Card on File. The Get Card by ID will retrieve the MaskedCard details, for the specified card ID. Delete card by card ID will delete the previously enrolled card. 
 *
 * The version of the OpenAPI document: 1.0.0
 * Contact: apisupport@mastercard.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


package com.mcs.virtualcardtokens.card.api;

import com.mcs.virtualcardtokens.card.invoker.ApiCallback;
import com.mcs.virtualcardtokens.card.invoker.ApiClient;
import com.mcs.virtualcardtokens.card.invoker.ApiException;
import com.mcs.virtualcardtokens.card.invoker.ApiResponse;
import com.mcs.virtualcardtokens.card.invoker.Configuration;
import com.mcs.virtualcardtokens.card.invoker.Pair;
import com.mcs.virtualcardtokens.card.invoker.ProgressRequestBody;
import com.mcs.virtualcardtokens.card.invoker.ProgressResponseBody;

import com.google.gson.reflect.TypeToken;

import java.io.IOException;


import com.mcs.virtualcardtokens.card.model.Error;
import com.mcs.virtualcardtokens.card.model.GetRecentTransactionsResponse;
import java.util.UUID;

import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class TransactionsApi {
    private ApiClient localVarApiClient;
    private int localHostIndex;
    private String localCustomBaseUrl;

    public TransactionsApi() {
<span class="nc" id="L46">        this(Configuration.getDefaultApiClient());</span>
<span class="nc" id="L47">    }</span>

<span class="nc" id="L49">    public TransactionsApi(ApiClient apiClient) {</span>
<span class="nc" id="L50">        this.localVarApiClient = apiClient;</span>
<span class="nc" id="L51">    }</span>

    public ApiClient getApiClient() {
<span class="nc" id="L54">        return localVarApiClient;</span>
    }

    public void setApiClient(ApiClient apiClient) {
<span class="nc" id="L58">        this.localVarApiClient = apiClient;</span>
<span class="nc" id="L59">    }</span>

    public int getHostIndex() {
<span class="nc" id="L62">        return localHostIndex;</span>
    }

    public void setHostIndex(int hostIndex) {
<span class="nc" id="L66">        this.localHostIndex = hostIndex;</span>
<span class="nc" id="L67">    }</span>

    public String getCustomBaseUrl() {
<span class="nc" id="L70">        return localCustomBaseUrl;</span>
    }

    public void setCustomBaseUrl(String customBaseUrl) {
<span class="nc" id="L74">        this.localCustomBaseUrl = customBaseUrl;</span>
<span class="nc" id="L75">    }</span>

    /**
     * Build call for getTransactionHistory
     * @param cardId Unique identifier of the card. The card identifier may be an SRC Digital Card Identifier or an SRC Payment Card Identifier (required)
     * @param srcClientId A unique identifier assigned by Mastercard during onboarding which signifies the responsible party Integrating to Mastercard Checkout Solutions (MCS). (required)
     * @param serviceId A unique identifier assigned by Mastercard for which tokens are created uniquely for the entity onboarded. (required)
     * @param srciTransactionId Transaction reference generated by the checkout initiator (optional)
     * @param transactionsFromTimestamp Optional Parameter to provide Transaction history records originating after Date-Time represented by this parameter. This parameter MUST not past 30 days from current date-time and also not after current date-time. Supports taking value in UTC epoch milliseconds format. (optional)
     * @param _callback Callback for upload/download progress
     * @return Call to execute
     * @throws ApiException If fail to serialize the request body object
     * @http.response.details
     &lt;table summary=&quot;Response Details&quot; border=&quot;1&quot;&gt;
        &lt;tr&gt;&lt;td&gt; Status Code &lt;/td&gt;&lt;td&gt; Description &lt;/td&gt;&lt;td&gt; Response Headers &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 200 &lt;/td&gt;&lt;td&gt; OK  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 400 &lt;/td&gt;&lt;td&gt; Bad Request. Invalid tokenRequested field.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 403 &lt;/td&gt;&lt;td&gt; Forbidden.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 404 &lt;/td&gt;&lt;td&gt; Card not found by cards service.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 500 &lt;/td&gt;&lt;td&gt; Internal server error  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 503 &lt;/td&gt;&lt;td&gt; Service unavailable. Typically the server not able to serve the request temporarily.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
     &lt;/table&gt;
     */
    public okhttp3.Call getTransactionHistoryCall(String cardId, UUID srcClientId, String serviceId, String srciTransactionId, String transactionsFromTimestamp, final ApiCallback _callback) throws ApiException {
<span class="nc" id="L99">        String basePath = null;</span>
        // Operation Servers
<span class="nc" id="L101">        String[] localBasePaths = new String[] {  };</span>

        // Determine Base Path to Use
<span class="nc bnc" id="L104" title="All 2 branches missed.">        if (localCustomBaseUrl != null){</span>
<span class="nc" id="L105">            basePath = localCustomBaseUrl;</span>
<span class="nc bnc" id="L106" title="All 2 branches missed.">        } else if ( localBasePaths.length &gt; 0 ) {</span>
<span class="nc" id="L107">            basePath = localBasePaths[localHostIndex];</span>
        } else {
<span class="nc" id="L109">            basePath = null;</span>
        }

<span class="nc" id="L112">        Object localVarPostBody = null;</span>

        // create path and map variables
<span class="nc" id="L115">        String localVarPath = &quot;/cards/{cardId}/transactions&quot;</span>
<span class="nc" id="L116">            .replace(&quot;{&quot; + &quot;cardId&quot; + &quot;}&quot;, localVarApiClient.escapeString(cardId.toString()));</span>

<span class="nc" id="L118">        List&lt;Pair&gt; localVarQueryParams = new ArrayList&lt;Pair&gt;();</span>
<span class="nc" id="L119">        List&lt;Pair&gt; localVarCollectionQueryParams = new ArrayList&lt;Pair&gt;();</span>
<span class="nc" id="L120">        Map&lt;String, String&gt; localVarHeaderParams = new HashMap&lt;String, String&gt;();</span>
<span class="nc" id="L121">        Map&lt;String, String&gt; localVarCookieParams = new HashMap&lt;String, String&gt;();</span>
<span class="nc" id="L122">        Map&lt;String, Object&gt; localVarFormParams = new HashMap&lt;String, Object&gt;();</span>

<span class="nc bnc" id="L124" title="All 2 branches missed.">        if (srcClientId != null) {</span>
<span class="nc" id="L125">            localVarQueryParams.addAll(localVarApiClient.parameterToPair(&quot;srcClientId&quot;, srcClientId));</span>
        }

<span class="nc bnc" id="L128" title="All 2 branches missed.">        if (serviceId != null) {</span>
<span class="nc" id="L129">            localVarQueryParams.addAll(localVarApiClient.parameterToPair(&quot;serviceId&quot;, serviceId));</span>
        }

<span class="nc bnc" id="L132" title="All 2 branches missed.">        if (srciTransactionId != null) {</span>
<span class="nc" id="L133">            localVarQueryParams.addAll(localVarApiClient.parameterToPair(&quot;srciTransactionId&quot;, srciTransactionId));</span>
        }

<span class="nc bnc" id="L136" title="All 2 branches missed.">        if (transactionsFromTimestamp != null) {</span>
<span class="nc" id="L137">            localVarQueryParams.addAll(localVarApiClient.parameterToPair(&quot;transactionsFromTimestamp&quot;, transactionsFromTimestamp));</span>
        }

<span class="nc" id="L140">        final String[] localVarAccepts = {</span>
            &quot;application/json&quot;
        };
<span class="nc" id="L143">        final String localVarAccept = localVarApiClient.selectHeaderAccept(localVarAccepts);</span>
<span class="nc bnc" id="L144" title="All 2 branches missed.">        if (localVarAccept != null) {</span>
<span class="nc" id="L145">            localVarHeaderParams.put(&quot;Accept&quot;, localVarAccept);</span>
        }

<span class="nc" id="L148">        final String[] localVarContentTypes = {</span>
        };
<span class="nc" id="L150">        final String localVarContentType = localVarApiClient.selectHeaderContentType(localVarContentTypes);</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">        if (localVarContentType != null) {</span>
<span class="nc" id="L152">            localVarHeaderParams.put(&quot;Content-Type&quot;, localVarContentType);</span>
        }

<span class="nc" id="L155">        String[] localVarAuthNames = new String[] {  };</span>
<span class="nc" id="L156">        return localVarApiClient.buildCall(basePath, localVarPath, &quot;GET&quot;, localVarQueryParams, localVarCollectionQueryParams, localVarPostBody, localVarHeaderParams, localVarCookieParams, localVarFormParams, localVarAuthNames, _callback);</span>
    }

    @SuppressWarnings(&quot;rawtypes&quot;)
    private okhttp3.Call getTransactionHistoryValidateBeforeCall(String cardId, UUID srcClientId, String serviceId, String srciTransactionId, String transactionsFromTimestamp, final ApiCallback _callback) throws ApiException {
        // verify the required parameter 'cardId' is set
<span class="nc bnc" id="L162" title="All 2 branches missed.">        if (cardId == null) {</span>
<span class="nc" id="L163">            throw new ApiException(&quot;Missing the required parameter 'cardId' when calling getTransactionHistory(Async)&quot;);</span>
        }

        // verify the required parameter 'srcClientId' is set
<span class="nc bnc" id="L167" title="All 2 branches missed.">        if (srcClientId == null) {</span>
<span class="nc" id="L168">            throw new ApiException(&quot;Missing the required parameter 'srcClientId' when calling getTransactionHistory(Async)&quot;);</span>
        }

        // verify the required parameter 'serviceId' is set
<span class="nc bnc" id="L172" title="All 2 branches missed.">        if (serviceId == null) {</span>
<span class="nc" id="L173">            throw new ApiException(&quot;Missing the required parameter 'serviceId' when calling getTransactionHistory(Async)&quot;);</span>
        }

<span class="nc" id="L176">        return getTransactionHistoryCall(cardId, srcClientId, serviceId, srciTransactionId, transactionsFromTimestamp, _callback);</span>

    }

    /**
     * RETRIEVE TRANSACTIONS
     * Get transactions by Card Id API will retrieve the recent transactions for the specified card identifier. Integrators may retrieve recent transactions details for a specified card identifier via the Get Transaction Details request. If the Issuer of the card does not support Transaction Detail Service, the Get Transaction Details request will return an error.
     * @param cardId Unique identifier of the card. The card identifier may be an SRC Digital Card Identifier or an SRC Payment Card Identifier (required)
     * @param srcClientId A unique identifier assigned by Mastercard during onboarding which signifies the responsible party Integrating to Mastercard Checkout Solutions (MCS). (required)
     * @param serviceId A unique identifier assigned by Mastercard for which tokens are created uniquely for the entity onboarded. (required)
     * @param srciTransactionId Transaction reference generated by the checkout initiator (optional)
     * @param transactionsFromTimestamp Optional Parameter to provide Transaction history records originating after Date-Time represented by this parameter. This parameter MUST not past 30 days from current date-time and also not after current date-time. Supports taking value in UTC epoch milliseconds format. (optional)
     * @return GetRecentTransactionsResponse
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @http.response.details
     &lt;table summary=&quot;Response Details&quot; border=&quot;1&quot;&gt;
        &lt;tr&gt;&lt;td&gt; Status Code &lt;/td&gt;&lt;td&gt; Description &lt;/td&gt;&lt;td&gt; Response Headers &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 200 &lt;/td&gt;&lt;td&gt; OK  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 400 &lt;/td&gt;&lt;td&gt; Bad Request. Invalid tokenRequested field.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 403 &lt;/td&gt;&lt;td&gt; Forbidden.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 404 &lt;/td&gt;&lt;td&gt; Card not found by cards service.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 500 &lt;/td&gt;&lt;td&gt; Internal server error  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 503 &lt;/td&gt;&lt;td&gt; Service unavailable. Typically the server not able to serve the request temporarily.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
     &lt;/table&gt;
     */
    public GetRecentTransactionsResponse getTransactionHistory(String cardId, UUID srcClientId, String serviceId, String srciTransactionId, String transactionsFromTimestamp) throws ApiException {
<span class="nc" id="L202">        ApiResponse&lt;GetRecentTransactionsResponse&gt; localVarResp = getTransactionHistoryWithHttpInfo(cardId, srcClientId, serviceId, srciTransactionId, transactionsFromTimestamp);</span>
<span class="nc" id="L203">        return localVarResp.getData();</span>
    }

    /**
     * RETRIEVE TRANSACTIONS
     * Get transactions by Card Id API will retrieve the recent transactions for the specified card identifier. Integrators may retrieve recent transactions details for a specified card identifier via the Get Transaction Details request. If the Issuer of the card does not support Transaction Detail Service, the Get Transaction Details request will return an error.
     * @param cardId Unique identifier of the card. The card identifier may be an SRC Digital Card Identifier or an SRC Payment Card Identifier (required)
     * @param srcClientId A unique identifier assigned by Mastercard during onboarding which signifies the responsible party Integrating to Mastercard Checkout Solutions (MCS). (required)
     * @param serviceId A unique identifier assigned by Mastercard for which tokens are created uniquely for the entity onboarded. (required)
     * @param srciTransactionId Transaction reference generated by the checkout initiator (optional)
     * @param transactionsFromTimestamp Optional Parameter to provide Transaction history records originating after Date-Time represented by this parameter. This parameter MUST not past 30 days from current date-time and also not after current date-time. Supports taking value in UTC epoch milliseconds format. (optional)
     * @return ApiResponse&amp;lt;GetRecentTransactionsResponse&amp;gt;
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @http.response.details
     &lt;table summary=&quot;Response Details&quot; border=&quot;1&quot;&gt;
        &lt;tr&gt;&lt;td&gt; Status Code &lt;/td&gt;&lt;td&gt; Description &lt;/td&gt;&lt;td&gt; Response Headers &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 200 &lt;/td&gt;&lt;td&gt; OK  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 400 &lt;/td&gt;&lt;td&gt; Bad Request. Invalid tokenRequested field.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 403 &lt;/td&gt;&lt;td&gt; Forbidden.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 404 &lt;/td&gt;&lt;td&gt; Card not found by cards service.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 500 &lt;/td&gt;&lt;td&gt; Internal server error  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 503 &lt;/td&gt;&lt;td&gt; Service unavailable. Typically the server not able to serve the request temporarily.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
     &lt;/table&gt;
     */
    public ApiResponse&lt;GetRecentTransactionsResponse&gt; getTransactionHistoryWithHttpInfo(String cardId, UUID srcClientId, String serviceId, String srciTransactionId, String transactionsFromTimestamp) throws ApiException {
<span class="nc" id="L228">        okhttp3.Call localVarCall = getTransactionHistoryValidateBeforeCall(cardId, srcClientId, serviceId, srciTransactionId, transactionsFromTimestamp, null);</span>
<span class="nc" id="L229">        Type localVarReturnType = new TypeToken&lt;GetRecentTransactionsResponse&gt;(){}.getType();</span>
<span class="nc" id="L230">        return localVarApiClient.execute(localVarCall, localVarReturnType);</span>
    }

    /**
     * RETRIEVE TRANSACTIONS (asynchronously)
     * Get transactions by Card Id API will retrieve the recent transactions for the specified card identifier. Integrators may retrieve recent transactions details for a specified card identifier via the Get Transaction Details request. If the Issuer of the card does not support Transaction Detail Service, the Get Transaction Details request will return an error.
     * @param cardId Unique identifier of the card. The card identifier may be an SRC Digital Card Identifier or an SRC Payment Card Identifier (required)
     * @param srcClientId A unique identifier assigned by Mastercard during onboarding which signifies the responsible party Integrating to Mastercard Checkout Solutions (MCS). (required)
     * @param serviceId A unique identifier assigned by Mastercard for which tokens are created uniquely for the entity onboarded. (required)
     * @param srciTransactionId Transaction reference generated by the checkout initiator (optional)
     * @param transactionsFromTimestamp Optional Parameter to provide Transaction history records originating after Date-Time represented by this parameter. This parameter MUST not past 30 days from current date-time and also not after current date-time. Supports taking value in UTC epoch milliseconds format. (optional)
     * @param _callback The callback to be executed when the API call finishes
     * @return The request call
     * @throws ApiException If fail to process the API call, e.g. serializing the request body object
     * @http.response.details
     &lt;table summary=&quot;Response Details&quot; border=&quot;1&quot;&gt;
        &lt;tr&gt;&lt;td&gt; Status Code &lt;/td&gt;&lt;td&gt; Description &lt;/td&gt;&lt;td&gt; Response Headers &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 200 &lt;/td&gt;&lt;td&gt; OK  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 400 &lt;/td&gt;&lt;td&gt; Bad Request. Invalid tokenRequested field.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 403 &lt;/td&gt;&lt;td&gt; Forbidden.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 404 &lt;/td&gt;&lt;td&gt; Card not found by cards service.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 500 &lt;/td&gt;&lt;td&gt; Internal server error  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt; 503 &lt;/td&gt;&lt;td&gt; Service unavailable. Typically the server not able to serve the request temporarily.  &lt;/td&gt;&lt;td&gt;  -  &lt;/td&gt;&lt;/tr&gt;
     &lt;/table&gt;
     */
    public okhttp3.Call getTransactionHistoryAsync(String cardId, UUID srcClientId, String serviceId, String srciTransactionId, String transactionsFromTimestamp, final ApiCallback&lt;GetRecentTransactionsResponse&gt; _callback) throws ApiException {

<span class="nc" id="L257">        okhttp3.Call localVarCall = getTransactionHistoryValidateBeforeCall(cardId, srcClientId, serviceId, srciTransactionId, transactionsFromTimestamp, _callback);</span>
<span class="nc" id="L258">        Type localVarReturnType = new TypeToken&lt;GetRecentTransactionsResponse&gt;(){}.getType();</span>
<span class="nc" id="L259">        localVarApiClient.executeAsync(localVarCall, localVarReturnType, _callback);</span>
<span class="nc" id="L260">        return localVarCall;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>