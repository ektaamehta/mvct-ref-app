<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HttpBearerAuth.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">virtual-card-tokens-reference-app</a> &gt; <a href="index.source.html" class="el_package">com.mcs.virtualcardtokens.card.invoker.auth</a> &gt; <span class="el_source">HttpBearerAuth.java</span></div><h1>HttpBearerAuth.java</h1><pre class="source lang-java linenums">/*
 * Mastercard Checkout Solutions Card API
 * API definitions for Mastercard Secure Card on File Cards API Endpoint. The Cards endpoint enrolls a mastercard card into a specified Secure Card on File. The Get Card by ID will retrieve the MaskedCard details, for the specified card ID. Delete card by card ID will delete the previously enrolled card. 
 *
 * The version of the OpenAPI document: 1.0.0
 * Contact: apisupport@mastercard.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


package com.mcs.virtualcardtokens.card.invoker.auth;

import com.mcs.virtualcardtokens.card.invoker.ApiException;
import com.mcs.virtualcardtokens.card.invoker.Pair;

import java.net.URI;
import java.util.List;
import java.util.Map;
import java.util.Optional;
import java.util.function.Supplier;

@jakarta.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2025-08-05T17:57:04.218510319Z[Etc/UTC]&quot;)
public class HttpBearerAuth implements Authentication {
  private final String scheme;
  private Supplier&lt;String&gt; tokenSupplier;

<span class="fc" id="L30">  public HttpBearerAuth(String scheme) {</span>
<span class="fc" id="L31">    this.scheme = scheme;</span>
<span class="fc" id="L32">  }</span>

  /**
   * Gets the token, which together with the scheme, will be sent as the value of the Authorization header.
   *
   * @return The bearer token
   */
  public String getBearerToken() {
<span class="nc" id="L40">    return tokenSupplier.get();</span>
  }

  /**
   * Sets the token, which together with the scheme, will be sent as the value of the Authorization header.
   *
   * @param bearerToken The bearer token to send in the Authorization header
   */
  public void setBearerToken(String bearerToken) {
<span class="nc" id="L49">    this.tokenSupplier = () -&gt; bearerToken;</span>
<span class="nc" id="L50">  }</span>

  /**
   * Sets the supplier of tokens, which together with the scheme, will be sent as the value of the Authorization header.
   *
   * @param tokenSupplier The supplier of bearer tokens to send in the Authorization header
   */
  public void setBearerToken(Supplier&lt;String&gt; tokenSupplier) {
<span class="nc" id="L58">    this.tokenSupplier = tokenSupplier;</span>
<span class="nc" id="L59">  }</span>

  @Override
  public void applyToParams(List&lt;Pair&gt; queryParams, Map&lt;String, String&gt; headerParams, Map&lt;String, String&gt; cookieParams,
                            String payload, String method, URI uri) throws ApiException {
<span class="nc" id="L64">    String bearerToken = Optional.ofNullable(tokenSupplier).map(Supplier::get).orElse(null);</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">    if (bearerToken == null) {</span>
<span class="nc" id="L66">      return;</span>
    }

<span class="nc bnc" id="L69" title="All 2 branches missed.">    headerParams.put(&quot;Authorization&quot;, (scheme != null ? upperCaseBearer(scheme) + &quot; &quot; : &quot;&quot;) + bearerToken);</span>
<span class="nc" id="L70">  }</span>

  private static String upperCaseBearer(String scheme) {
<span class="nc bnc" id="L73" title="All 2 branches missed.">    return (&quot;bearer&quot;.equalsIgnoreCase(scheme)) ? &quot;Bearer&quot; : scheme;</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>